{% extends 'base.html' %} <!--To get the header, footer and the linked stylesheets and js files-->

{%block head %}
<title>Essential Machine</title>

{% endblock %}

{% block body %}
<div class="small-container">
    <!-- The spacer class to provide some space below the header-->
    <div class="spacer">
        &nbsp;
    </div>
    <div class="row">
        {% for product in products %} <!-- To get all the products -->
    <div class="col">
        <!-- Product Details start -->
        <img src='{{product.img_path}}' />
        <h4>{{product.name}}</h4>
        <p>${{product.price}}</p>
        <!-- Product Details end -->

        <!-- All buttons -->
            <button class="addcartbut" id="addcart{{product.id}}" onclick="handleaddcart('{{product.name}}','{{product.price}}','{{product.id}}')">ADD TO CART</button>
            <br>
            <button class="qty" id="dec{{product.id}}" onclick="decrement('{{product.id}}','{{product.price}}')">-</button>
            <input class="quantityinput" id="quant{{product.id}}" value="1" type="number">
            <button class="qty" id='inc{{product.id}}' onclick="increment('{{product.id}}','{{product.price}}','{{product.maxqty}}')">+</button>
            <button class="rembut" id="rem{{product.id}}" onclick="removebutton('{{product.id}}')" type="button">REMOVE</button>
    </div>
    {% endfor %}
        <div class="spacer2" id="scrollcart">
            &nbsp;
        </div>
        <div id="cartsection" >
            <div class="thecart">
                <h2 class="carttitle">CART</h2>

                <!--The Cart Table-->
            <table id="trycart">
                <tr class="tblhead">
                <td>Product(s)</td>
                <td>Price</td>
                <td>Quantity</td>
                <td>Total</td>
            </table>
            <br>
            <hr>
            <span id="val"></span> <!-- This will display the grand total-->
            </div>
            <div class="spacer2">
                &nbsp;
            </div>

            <!--This is where the payment section is displayed-->
            <div class="bt-drop-in-wrapper">
                <div id="bt-dropin"></div>
            </div>
            <input type="button" class="purchasebut" value="Purchase" id="purchase-button"/>
            </div>
        </div>
    </div>
        


{% endblock %}

